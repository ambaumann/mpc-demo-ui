<div class="container">
  <div>
    <h1><b>MPC Demo</b></h1>
  </div>
  <div  class="row col-12">
    <p *ngIf="loading" class="loading">Loading</p>
    <div *ngIf="!loading">
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="4" *ngIf="!showRoute">
        <div *ngFor="let m of markers">
          <agm-marker   [latitude]="m.latitude" [longitude]="m.longitude" [label]="{color: 'black',fontWeight: 'bold',text: m.venueName}">
              <agm-snazzy-info-window [isOpen]="true" [pointer]="false" [maxWidth]="200" [padding]="'2px'" [fontSize]="'8px'" [closeWhenOthersOpen]="false" [showCloseButton]="false">
                  <ng-template>
                    <div class="loc-text">MM/DD: $.$$</div>
                  </ng-template>
                </agm-snazzy-info-window>
          </agm-marker>
        </div>
      </agm-map>
      <agm-map [latitude]="lat" [longitude]="lng" [zoom]="3" *ngIf="showRoute && !loading">
          <div *ngFor="let m of markers; let i = index">
              <agm-marker   [latitude]="m.latitude" [longitude]="m.longitude" [label]="(i + 1).toString()">
                  <agm-snazzy-info-window [isOpen]="true" [pointer]="false" [maxWidth]="200" [padding]="'2px'" [fontSize]="'8px'" [closeWhenOthersOpen]="false" [showCloseButton]="false">
                      <ng-template>
                        <div class="loc-text">{{m.venueName}} {{m.getMonthDay()}}: {{m.revenueOpportunity}}</div>
                      </ng-template>
                    </agm-snazzy-info-window>
              </agm-marker>
            </div>
            <agm-marker [latitude]="27.6648" [longitude]="-81.5158" [iconUrl]="flImagePath" [label]="{color: 'black',fontWeight: 'bold',text: 'FL'}">
            </agm-marker>
            <agm-direction [markerOptions]="markerOptions" [renderOptions]="renderOptions" [origin]="origin" [destination]="destination" [waypoints]="waypoints" [optimizeWaypoints] ="false">
            </agm-direction>
      </agm-map>
    </div>
  </div>
  <div class="row buttons">
      <div class="col-md-6">
          <button class="btn btn-lg btn-block" (click)="setShowPins()" >Show Pins</button>
      </div>
      <div class="col-md-6">
          <button class="btn btn-primary btn-lg btn-block" (click)="setShowRoute()">Calculate Route</button>
      </div>
  </div>
</div>

